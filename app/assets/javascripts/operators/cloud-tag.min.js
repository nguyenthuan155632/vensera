!function(t){t.fn.tagcloud=function(e){var a=t.extend({max:1/0},e);return this.each(function(){var e=t(this),c=e.children("option"),s=[],i=a.max;e.wrap('<div class="tc-wrapper"></div>');var d=e.parent();e.hide(),e.after('<div class="tc-cloud"></div>'),c.each(function(e){d.find(".tc-cloud").append('<span class="tc-tag" data-tag="'+e+'">'+t(this).text()+"</span>")}),d.find(".tc-tag").click(function(){var a=t(this).data("tag");t(this).hasClass("tc-selected")?(t(this).removeClass("tc-selected"),e.find("option:eq("+a+")").prop("selected",!1),s.splice(t.inArray(a,s),1)):(t(this).addClass("tc-selected"),e.find("option:eq("+a+")").prop("selected",!0),s.push(a),s.length>i&&(e.find("option:eq("+s[0]+")").prop("selected",!1),d.find(".tc-selected[data-tag="+s[0]+"]").removeClass("tc-selected"),s.shift()))})})}}(jQuery);
